!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(t="undefined"!=typeof globalThis?globalThis:t||self).NP=r()}(this,(function(){"use strict";class t{static Version="0.0.1";static Regs={thousand:/(?=\B(\d{3})+$)/g,number:/^[\+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/};static MESSAGE_ERR={import:()=>({e:ReferenceError,t:"Big.js is not undefined..."}),args:t=>({e:Error,t:"Arguments must be one or more..."}),number:t=>({e:TypeError,t:t+" is not a valid number format..."})};static throwError(r,e){const n=t.MESSAGE_ERR[r](e);throw new n.e(n.t)}static isType(t,r){return Object.prototype.toString.call(t).slice(8,-1)===r}static isNumber(r){return t.Regs.number.test(r)}static isLegal(r){const e=t.isType(r,"Arguments")?r:[r];e.length||t.throwError("args");for(const r of e)t.isNumber(r)||t.throwError("number",r);return r}}var r=1e6,e=1e6,n="[big.js] ",i=n+"Invalid ",s=i+"decimal places",o=n+"Division by zero",c={},u=void 0,f=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function h(t,r,e,n){var i=t.c;if(e===u&&(e=t.constructor.RM),0!==e&&1!==e&&2!==e&&3!==e)throw Error("[big.js] Invalid rounding mode");if(r<1)n=3===e&&(n||!!i[0])||0===r&&(1===e&&i[0]>=5||2===e&&(i[0]>5||5===i[0]&&(n||i[1]!==u))),i.length=1,n?(t.e=t.e-r+1,i[0]=1):i[0]=t.e=0;else if(r<i.length){if(n=1===e&&i[r]>=5||2===e&&(i[r]>5||5===i[r]&&(n||i[r+1]!==u||1&i[r-1]))||3===e&&(n||!!i[0]),i.length=r,n)for(;++i[--r]>9;)if(i[r]=0,0===r){++t.e,i.unshift(1);break}for(r=i.length;!i[--r];)i.pop()}return t}function l(t,r,e){var n=t.e,i=t.c.join(""),s=i.length;if(r)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&e?"-"+i:i}c.abs=function(){var t=new this.constructor(this);return t.s=1,t},c.cmp=function(t){var r,e=this,n=e.c,i=(t=new e.constructor(t)).c,s=e.s,o=t.s,c=e.e,u=t.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(r=s<0,c!=u)return c>u^r?1:-1;for(o=(c=n.length)<(u=i.length)?c:u,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^r?1:-1;return c==u?0:c>u^r?1:-1},c.div=function(t){var e=this,n=e.constructor,i=e.c,c=(t=new n(t)).c,f=e.s==t.s?1:-1,l=n.DP;if(l!==~~l||l<0||l>r)throw Error(s);if(!c[0])throw Error(o);if(!i[0])return t.s=f,t.c=[t.e=0],t;var a,d,p,v,g,m=c.slice(),w=a=c.length,E=i.length,b=i.slice(0,a),x=b.length,N=t,R=N.c=[],y=0,M=l+(N.e=e.e-t.e)+1;for(N.s=f,f=M<0?0:M,m.unshift(0);x++<a;)b.push(0);do{for(p=0;p<10;p++){if(a!=(x=b.length))v=a>x?1:-1;else for(g=-1,v=0;++g<a;)if(c[g]!=b[g]){v=c[g]>b[g]?1:-1;break}if(!(v<0))break;for(d=x==a?c:m;x;){if(b[--x]<d[x]){for(g=x;g&&!b[--g];)b[g]=9;--b[g],b[x]+=10}b[x]-=d[x]}for(;!b[0];)b.shift()}R[y++]=v?p:++p,b[0]&&v?b[x]=i[w]||0:b=[i[w]]}while((w++<E||b[0]!==u)&&f--);return R[0]||1==y||(R.shift(),N.e--,M--),y>M&&h(N,M,n.RM,b[0]!==u),N},c.eq=function(t){return 0===this.cmp(t)},c.gt=function(t){return this.cmp(t)>0},c.gte=function(t){return this.cmp(t)>-1},c.lt=function(t){return this.cmp(t)<0},c.lte=function(t){return this.cmp(t)<1},c.minus=c.sub=function(t){var r,e,n,i,s=this,o=s.constructor,c=s.s,u=(t=new o(t)).s;if(c!=u)return t.s=-u,s.plus(t);var f=s.c.slice(),h=s.e,l=t.c,a=t.e;if(!f[0]||!l[0])return l[0]?t.s=-u:f[0]?t=new o(s):t.s=1,t;if(c=h-a){for((i=c<0)?(c=-c,n=f):(a=h,n=l),n.reverse(),u=c;u--;)n.push(0);n.reverse()}else for(e=((i=f.length<l.length)?f:l).length,c=u=0;u<e;u++)if(f[u]!=l[u]){i=f[u]<l[u];break}if(i&&(n=f,f=l,l=n,t.s=-t.s),(u=(e=l.length)-(r=f.length))>0)for(;u--;)f[r++]=0;for(u=r;e>c;){if(f[--e]<l[e]){for(r=e;r&&!f[--r];)f[r]=9;--f[r],f[e]+=10}f[e]-=l[e]}for(;0===f[--u];)f.pop();for(;0===f[0];)f.shift(),--a;return f[0]||(t.s=1,f=[a=0]),t.c=f,t.e=a,t},c.mod=function(t){var r,e=this,n=e.constructor,i=e.s,s=(t=new n(t)).s;if(!t.c[0])throw Error(o);return e.s=t.s=1,r=1==t.cmp(e),e.s=i,t.s=s,r?new n(e):(i=n.DP,s=n.RM,n.DP=n.RM=0,e=e.div(t),n.DP=i,n.RM=s,this.minus(e.times(t)))},c.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t},c.plus=c.add=function(t){var r,e,n,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,c=i.c,u=t.e,f=t.c;if(!c[0]||!f[0])return f[0]||(c[0]?t=new s(i):t.s=i.s),t;if(c=c.slice(),r=o-u){for(r>0?(u=o,n=f):(r=-r,n=c),n.reverse();r--;)n.push(0);n.reverse()}for(c.length-f.length<0&&(n=f,f=c,c=n),r=f.length,e=0;r;c[r]%=10)e=(c[--r]=c[r]+f[r]+e)/10|0;for(e&&(c.unshift(e),++u),r=c.length;0===c[--r];)c.pop();return t.c=c,t.e=u,t},c.pow=function(t){var r=this,n=new r.constructor("1"),s=n,o=t<0;if(t!==~~t||t<-1e6||t>e)throw Error(i+"exponent");for(o&&(t=-t);1&t&&(s=s.times(r)),t>>=1;)r=r.times(r);return o?n.div(s):s},c.prec=function(t,e){if(t!==~~t||t<1||t>r)throw Error(i+"precision");return h(new this.constructor(this),t,e)},c.round=function(t,e){if(t===u)t=0;else if(t!==~~t||t<-r||t>r)throw Error(s);return h(new this.constructor(this),t+this.e+1,e)},c.sqrt=function(){var t,r,e,i=this,s=i.constructor,o=i.s,c=i.e,u=new s("0.5");if(!i.c[0])return new s(i);if(o<0)throw Error(n+"No square root");0===(o=Math.sqrt(i+""))||o===1/0?((r=i.c.join("")).length+c&1||(r+="0"),c=((c+1)/2|0)-(c<0||1&c),t=new s(((o=Math.sqrt(r))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+c)):t=new s(o+""),c=t.e+(s.DP+=4);do{e=t,t=u.times(e.plus(i.div(e)))}while(e.c.slice(0,c).join("")!==t.c.slice(0,c).join(""));return h(t,(s.DP-=4)+t.e+1,s.RM)},c.times=c.mul=function(t){var r,e=this,n=e.constructor,i=e.c,s=(t=new n(t)).c,o=i.length,c=s.length,u=e.e,f=t.e;if(t.s=e.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=u+f,o<c&&(r=i,i=s,s=r,f=o,o=c,c=f),r=new Array(f=o+c);f--;)r[f]=0;for(u=c;u--;){for(c=0,f=o+u;f>u;)c=r[f]+s[u]*i[f-u-1]+c,r[f--]=c%10,c=c/10|0;r[f]=c}for(c?++t.e:r.shift(),u=r.length;!r[--u];)r.pop();return t.c=r,t},c.toExponential=function(t,e){var n=this,i=n.c[0];if(t!==u){if(t!==~~t||t<0||t>r)throw Error(s);for(n=h(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return l(n,!0,!!i)},c.toFixed=function(t,e){var n=this,i=n.c[0];if(t!==u){if(t!==~~t||t<0||t>r)throw Error(s);for(t=t+(n=h(new n.constructor(n),t+n.e+1,e)).e+1;n.c.length<t;)n.c.push(0)}return l(n,!1,!!i)},c[Symbol.for("nodejs.util.inspect.custom")]=c.toJSON=c.toString=function(){var t=this,r=t.constructor;return l(t,t.e<=r.NE||t.e>=r.PE,!!t.c[0])},c.toNumber=function(){var t=Number(l(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(t.toString()))throw Error(n+"Imprecise conversion");return t},c.toPrecision=function(t,e){var n=this,s=n.constructor,o=n.c[0];if(t!==u){if(t!==~~t||t<1||t>r)throw Error(i+"precision");for(n=h(new s(n),t,e);n.c.length<t;)n.c.push(0)}return l(n,t<=n.e||n.e<=s.NE||n.e>=s.PE,!!o)},c.valueOf=function(){var t=this,r=t.constructor;if(!0===r.strict)throw Error(n+"valueOf disallowed");return l(t,t.e<=r.NE||t.e>=r.PE,!0)};var a=function t(){function r(e){var n=this;if(!(n instanceof r))return e===u?t():new r(e);if(e instanceof r)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if("string"!=typeof e){if(!0===r.strict&&"bigint"!=typeof e)throw TypeError(i+"value");e=0===e&&1/e<0?"-0":String(e)}!function(t,r){var e,n,s;if(!f.test(r))throw Error(i+"number");t.s="-"==r.charAt(0)?(r=r.slice(1),-1):1,(e=r.indexOf("."))>-1&&(r=r.replace(".",""));(n=r.search(/e/i))>0?(e<0&&(e=n),e+=+r.slice(n+1),r=r.substring(0,n)):e<0&&(e=r.length);for(s=r.length,n=0;n<s&&"0"==r.charAt(n);)++n;if(n==s)t.c=[t.e=0];else{for(;s>0&&"0"==r.charAt(--s););for(t.e=e-n-1,t.c=[],e=0;n<=s;)t.c[e++]=+r.charAt(n++)}}(n,e)}n.constructor=r}return r.prototype=c,r.DP=20,r.RM=1,r.NE=-7,r.PE=21,r.strict=false,r.roundDown=0,r.roundHalfUp=1,r.roundHalfEven=2,r.roundUp=3,r}();class d extends t{constructor(){super(),this.prev=null}baseExecution(r,e){if(t.isLegal.call(this,r)){const n=t.isNumber(this.prev)?[this.prev,...r]:[...r];this.prev=n.slice(1).reduce(((t,r)=>t[e](r)),d.toBig(n[0]))}return this}add(){return this.baseExecution(arguments,"plus")}minus(){return this.baseExecution(arguments,"minus")}mul(){return this.baseExecution(arguments,"times")}div(){return this.baseExecution(arguments,"div")}pow(){return this.baseExecution(arguments,"pow")}sqrt(t){return this.prev=d.validate.call(this,t).sqrt(),this}toRound(t){return d.validate.call(this,t).round().toNumber()}toFixed(t=0,r){return d.validate.call(this,r).toFixed(t)}toFixedMax(t=0,r){return parseFloat(d.validate.call(this,r).toFixed(t))}toNumber(){return d.validate.call(this,this.value()).toNumber()}toThousandth(r){const e=d.validate.call(this,r).toNumber(),n=e%1==0?[String(e)]:String(e).split(".");return n[1]?`${n[0]}`.replace(t.Regs.thousand,",")+`.${n[1]}`:`${n[0]}`.replace(t.Regs.thousand,",")}toStructure(t){const r=d.validate.call(this,t).toNumber();return[Math.trunc(r),d.toBig(r).mod(1).toNumber()].filter(Boolean)}isNumber(r){return t.isNumber(this.value(r))}value(t=this.prev){return this.prev=null,t}static init(r){return this.prev=t.isLegal.call(this,r),this}static toBig(t){return t.constructor===a?t:new a(t)}static validate(r){return d.toBig(t.isLegal.call(this,this.value(r)))}}return function(t){const r=new d;return void 0===t?r:d.init.call(r,t)}}));
