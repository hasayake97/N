!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(r="undefined"!=typeof globalThis?globalThis:r||self).NP=t()}(this,(function(){"use strict";var r=1e6,t=1e6,e="[big.js] ",n=e+"Invalid ",i=n+"decimal places",s=e+"Division by zero",o={},u=void 0,c=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function f(r,t,e,n){var i=r.c;if(e===u&&(e=r.constructor.RM),0!==e&&1!==e&&2!==e&&3!==e)throw Error("[big.js] Invalid rounding mode");if(t<1)n=3===e&&(n||!!i[0])||0===t&&(1===e&&i[0]>=5||2===e&&(i[0]>5||5===i[0]&&(n||i[1]!==u))),i.length=1,n?(r.e=r.e-t+1,i[0]=1):i[0]=r.e=0;else if(t<i.length){if(n=1===e&&i[t]>=5||2===e&&(i[t]>5||5===i[t]&&(n||i[t+1]!==u||1&i[t-1]))||3===e&&(n||!!i[0]),i.length=t,n)for(;++i[--t]>9;)if(i[t]=0,0===t){++r.e,i.unshift(1);break}for(t=i.length;!i[--t];)i.pop()}return r}function h(r,t,e){var n=r.e,i=r.c.join(""),s=i.length;if(t)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return r.s<0&&e?"-"+i:i}o.abs=function(){var r=new this.constructor(this);return r.s=1,r},o.cmp=function(r){var t,e=this,n=e.c,i=(r=new e.constructor(r)).c,s=e.s,o=r.s,u=e.e,c=r.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(t=s<0,u!=c)return u>c^t?1:-1;for(o=(u=n.length)<(c=i.length)?u:c,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^t?1:-1;return u==c?0:u>c^t?1:-1},o.div=function(t){var e=this,n=e.constructor,o=e.c,c=(t=new n(t)).c,h=e.s==t.s?1:-1,l=n.DP;if(l!==~~l||l<0||l>r)throw Error(i);if(!c[0])throw Error(s);if(!o[0])return t.s=h,t.c=[t.e=0],t;var a,g,p,d,v,m=c.slice(),w=a=c.length,E=o.length,b=o.slice(0,a),x=b.length,N=t,R=N.c=[],y=0,S=l+(N.e=e.e-t.e)+1;for(N.s=h,h=S<0?0:S,m.unshift(0);x++<a;)b.push(0);do{for(p=0;p<10;p++){if(a!=(x=b.length))d=a>x?1:-1;else for(v=-1,d=0;++v<a;)if(c[v]!=b[v]){d=c[v]>b[v]?1:-1;break}if(!(d<0))break;for(g=x==a?c:m;x;){if(b[--x]<g[x]){for(v=x;v&&!b[--v];)b[v]=9;--b[v],b[x]+=10}b[x]-=g[x]}for(;!b[0];)b.shift()}R[y++]=d?p:++p,b[0]&&d?b[x]=o[w]||0:b=[o[w]]}while((w++<E||b[0]!==u)&&h--);return R[0]||1==y||(R.shift(),N.e--,S--),y>S&&f(N,S,n.RM,b[0]!==u),N},o.eq=function(r){return 0===this.cmp(r)},o.gt=function(r){return this.cmp(r)>0},o.gte=function(r){return this.cmp(r)>-1},o.lt=function(r){return this.cmp(r)<0},o.lte=function(r){return this.cmp(r)<1},o.minus=o.sub=function(r){var t,e,n,i,s=this,o=s.constructor,u=s.s,c=(r=new o(r)).s;if(u!=c)return r.s=-c,s.plus(r);var f=s.c.slice(),h=s.e,l=r.c,a=r.e;if(!f[0]||!l[0])return l[0]?r.s=-c:f[0]?r=new o(s):r.s=1,r;if(u=h-a){for((i=u<0)?(u=-u,n=f):(a=h,n=l),n.reverse(),c=u;c--;)n.push(0);n.reverse()}else for(e=((i=f.length<l.length)?f:l).length,u=c=0;c<e;c++)if(f[c]!=l[c]){i=f[c]<l[c];break}if(i&&(n=f,f=l,l=n,r.s=-r.s),(c=(e=l.length)-(t=f.length))>0)for(;c--;)f[t++]=0;for(c=t;e>u;){if(f[--e]<l[e]){for(t=e;t&&!f[--t];)f[t]=9;--f[t],f[e]+=10}f[e]-=l[e]}for(;0===f[--c];)f.pop();for(;0===f[0];)f.shift(),--a;return f[0]||(r.s=1,f=[a=0]),r.c=f,r.e=a,r},o.mod=function(r){var t,e=this,n=e.constructor,i=e.s,o=(r=new n(r)).s;if(!r.c[0])throw Error(s);return e.s=r.s=1,t=1==r.cmp(e),e.s=i,r.s=o,t?new n(e):(i=n.DP,o=n.RM,n.DP=n.RM=0,e=e.div(r),n.DP=i,n.RM=o,this.minus(e.times(r)))},o.neg=function(){var r=new this.constructor(this);return r.s=-r.s,r},o.plus=o.add=function(r){var t,e,n,i=this,s=i.constructor;if(r=new s(r),i.s!=r.s)return r.s=-r.s,i.minus(r);var o=i.e,u=i.c,c=r.e,f=r.c;if(!u[0]||!f[0])return f[0]||(u[0]?r=new s(i):r.s=i.s),r;if(u=u.slice(),t=o-c){for(t>0?(c=o,n=f):(t=-t,n=u),n.reverse();t--;)n.push(0);n.reverse()}for(u.length-f.length<0&&(n=f,f=u,u=n),t=f.length,e=0;t;u[t]%=10)e=(u[--t]=u[t]+f[t]+e)/10|0;for(e&&(u.unshift(e),++c),t=u.length;0===u[--t];)u.pop();return r.c=u,r.e=c,r},o.pow=function(r){var e=this,i=new e.constructor("1"),s=i,o=r<0;if(r!==~~r||r<-1e6||r>t)throw Error(n+"exponent");for(o&&(r=-r);1&r&&(s=s.times(e)),r>>=1;)e=e.times(e);return o?i.div(s):s},o.prec=function(t,e){if(t!==~~t||t<1||t>r)throw Error(n+"precision");return f(new this.constructor(this),t,e)},o.round=function(t,e){if(t===u)t=0;else if(t!==~~t||t<-r||t>r)throw Error(i);return f(new this.constructor(this),t+this.e+1,e)},o.sqrt=function(){var r,t,n,i=this,s=i.constructor,o=i.s,u=i.e,c=new s("0.5");if(!i.c[0])return new s(i);if(o<0)throw Error(e+"No square root");0===(o=Math.sqrt(i+""))||o===1/0?((t=i.c.join("")).length+u&1||(t+="0"),u=((u+1)/2|0)-(u<0||1&u),r=new s(((o=Math.sqrt(t))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+u)):r=new s(o+""),u=r.e+(s.DP+=4);do{n=r,r=c.times(n.plus(i.div(n)))}while(n.c.slice(0,u).join("")!==r.c.slice(0,u).join(""));return f(r,(s.DP-=4)+r.e+1,s.RM)},o.times=o.mul=function(r){var t,e=this,n=e.constructor,i=e.c,s=(r=new n(r)).c,o=i.length,u=s.length,c=e.e,f=r.e;if(r.s=e.s==r.s?1:-1,!i[0]||!s[0])return r.c=[r.e=0],r;for(r.e=c+f,o<u&&(t=i,i=s,s=t,f=o,o=u,u=f),t=new Array(f=o+u);f--;)t[f]=0;for(c=u;c--;){for(u=0,f=o+c;f>c;)u=t[f]+s[c]*i[f-c-1]+u,t[f--]=u%10,u=u/10|0;t[f]=u}for(u?++r.e:t.shift(),c=t.length;!t[--c];)t.pop();return r.c=t,r},o.toExponential=function(t,e){var n=this,s=n.c[0];if(t!==u){if(t!==~~t||t<0||t>r)throw Error(i);for(n=f(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return h(n,!0,!!s)},o.toFixed=function(t,e){var n=this,s=n.c[0];if(t!==u){if(t!==~~t||t<0||t>r)throw Error(i);for(t=t+(n=f(new n.constructor(n),t+n.e+1,e)).e+1;n.c.length<t;)n.c.push(0)}return h(n,!1,!!s)},o[Symbol.for("nodejs.util.inspect.custom")]=o.toJSON=o.toString=function(){var r=this,t=r.constructor;return h(r,r.e<=t.NE||r.e>=t.PE,!!r.c[0])},o.toNumber=function(){var r=Number(h(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(r.toString()))throw Error(e+"Imprecise conversion");return r},o.toPrecision=function(t,e){var i=this,s=i.constructor,o=i.c[0];if(t!==u){if(t!==~~t||t<1||t>r)throw Error(n+"precision");for(i=f(new s(i),t,e);i.c.length<t;)i.c.push(0)}return h(i,t<=i.e||i.e<=s.NE||i.e>=s.PE,!!o)},o.valueOf=function(){var r=this,t=r.constructor;if(!0===t.strict)throw Error(e+"valueOf disallowed");return h(r,r.e<=t.NE||r.e>=t.PE,!0)};var l=function r(){function t(e){var i=this;if(!(i instanceof t))return e===u?r():new t(e);if(e instanceof t)i.s=e.s,i.e=e.e,i.c=e.c.slice();else{if("string"!=typeof e){if(!0===t.strict&&"bigint"!=typeof e)throw TypeError(n+"value");e=0===e&&1/e<0?"-0":String(e)}!function(r,t){var e,i,s;if(!c.test(t))throw Error(n+"number");r.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(e=t.indexOf("."))>-1&&(t=t.replace(".",""));(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length);for(s=t.length,i=0;i<s&&"0"==t.charAt(i);)++i;if(i==s)r.c=[r.e=0];else{for(;s>0&&"0"==t.charAt(--s););for(r.e=e-i-1,r.c=[],e=0;i<=s;)r.c[e++]=+t.charAt(i++)}}(i,e)}i.constructor=t}return t.prototype=o,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=false,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();class a{static Version="0.0.1";static Regs={thousand:/(?=\B(\d{3})+$)/g,number:/^[\+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/};static MESSAGE_ERR={import:()=>({e:ReferenceError,t:"Big.js is not undefined..."}),args:r=>({e:Error,t:"Arguments must be one or more..."}),number:r=>({e:TypeError,t:r+" is not a valid number format..."})};static throwError(r,t){const e=a.MESSAGE_ERR[r](t);throw new e.e(e.t)}static isType(r,t){return Object.prototype.toString.call(r).slice(8,-1)===t}static isNumber(r){return a.Regs.number.test(r)}static isLegal(r){const t=a.isType(r,"Arguments")?r:[r];t.length||a.throwError("args");for(const r of t)a.isNumber(r)||a.throwError("number",r);return!0}}class g extends a{constructor(){super(),this.prev=null}baseExecution(r,t){if(a.isLegal.call(this,r)){const e=this.prev?[this.prev,...r]:[...r];this.prev=e.slice(1).reduce(((r,e)=>r[t](e)),g.toBig(e[0]))}return this}add(){return this.baseExecution(arguments,"plus")}minus(){return this.baseExecution(arguments,"minus")}mul(){return this.baseExecution(arguments,"times")}div(){return this.baseExecution(arguments,"div")}pow(){return this.baseExecution(arguments,"pow")}sqrt(r){return r&&a.isLegal.call(this,r),this.prev=new l(this.value(r)).sqrt(),this}toRound(r){return r&&a.isLegal.call(this,r),g.toBig(this.value(r)).round().toNumber()}toFixed(r=0,t){return t&&a.isLegal.call(this,t),g.toBig(this.value(t)).toFixed(r)}toFixedMax(r=0,t){return t&&a.isLegal.call(this,t),parseFloat(g.toBig(this.value(t)).toFixed(r))}toNumber(){return g.toBig(this.value()).toNumber()}toThousandth(r){const t=this.value(r);a.isLegal.call(this,t);let e=[];return a.isType(t,"Number")&&(e=t%1==0?[String(t)]:String(t).split(".")),a.isType(t,"String")&&(e=String(t).split(".")),e[1]?`${e[0]}`.replace(a.Regs.thousand,",")+`.${e[1]}`:`${e[0]}`.replace(a.Regs.thousand,",")}toStructure(r){const t=this.value(r);return this.isNumber(t)||a.throwError("number",t),[Math.trunc(t),g.toBig(t).mod(1).toNumber()].filter(Boolean)}isNumber(r){const t=this.value(r);return a.Regs.number.test(t)}value(r=this.prev){return this.prev=null,r}static init(r){return this.prev=r,this}static toBig(r){return r.constructor===l?r:new l(r)}}return function(r){const t=new g;return r?g.init.call(t,r):t}}));
